<html> <head> <META http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /> <LINK REL=stylesheet HREF="../textstyles.css" type="text/css">   <TITLE>{0} ({1}) </TITLE> <SCRIPT LANGUAGE='javascript' TYPE='text/javascript' SRC='../global.js'></SCRIPT></head><body  onload='collectProblems()' class = "sqlBody" link="0000ff" vlink="0000ff" bgcolor="white"leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"><div display='no' ><span id='prevProblem' onclick='prevProblem()'></span><span id='nextProblem' onclick='nextProblem()'></span><span id='prevSibling' onclick='prevSibling()'></span><span id='nextSibling' onclick='nextSibling1()'></span><span id='prevBookmark' onclick='prevBookmark()'></span><span id='nextBookmark' onclick='nextBookmark()'></span><span id='clearBookmarks' onclick='clearBookmarks()'></span></div><nobr><div class='unselectedDiv1' ID='ad6874407-e1cb-48dc-9982-df1f216ce9d6' onclick='refl("a0f82a9d7-299b-4ba1-a176-4bc93e0cc521||c8b92a85-9290-4e5b-ae2e-2ef404965e04");oc("ad6874407-e1cb-48dc-9982-df1f216ce9d6"); '  ><div class='unselectedDiv2' ID='aa8bf74af-c8fb-4282-bdef-339c663626c2' onclick='refl("a54dc0386-1e2d-454f-a82a-c2b4412aa03c");oc("aa8bf74af-c8fb-4282-bdef-339c663626c2"); '  ><err category = '2'/><span class='errMessage' ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;1&nbsp;</code>
/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;2&nbsp;</code>
*&nbsp;&nbsp;&nbsp;SSMA&nbsp;informational&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;3&nbsp;</code>
*&nbsp;&nbsp;&nbsp;M2SS0003:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;=&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;4&nbsp;</code>
*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;5&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;6&nbsp;</code>
CREATE&nbsp;TABLE&nbsp;<span class='local' ID="a36644082-3ff9-48ab-9de0-0c89ece5e12b"  >dbo</span>.<span class='local' ID="a512d76d2-56df-45e0-ad3e-48c29d5a800f"  >trabajo</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;7&nbsp;</code>
(<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;8&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a54b08c4f-b200-48b9-9f03-f59be25e49ea"  >id</span><span class='local' >&nbsp;</span><span class='local' ID="a7da5523b-2ee0-42a7-86d9-1d33e75b3b4b"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >&nbsp;</span>IDENTITY<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;9&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;10&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;11&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;12&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;13&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;14&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="affe10013-65e1-4b58-a77d-fdf41a0206ca"  >nombre</span><span class='local' >&nbsp;</span><span class='local' ID="a373615e9-b8d5-4102-9add-f3f122b60c78"  >nvarchar(45)</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;15&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;16&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;17&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;18&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;19&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;20&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a2bf71e03-0d8c-4e4c-9806-861579a3feac"  >detalle</span><span class='local' >&nbsp;</span><span class='local' ID="a008c3f0a-e1b3-4a34-9f6d-cb071cd47950"  >nvarchar(100)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;21&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;22&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;23&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;24&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;25&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;26&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a07b1870e-b4cb-492d-b8fd-1a104fdf8244"  >etapa</span><span class='local' >&nbsp;</span><span class='local' ID="a3979b0e0-ad1d-46c5-9496-03ad19cbf9bc"  >nvarchar(1)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;27&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="afb6cbf13-8676-40cb-a254-a227f946da53"  >[id_trabajo-t]</span><span class='local' >&nbsp;</span><span class='local' ID="ae54fbf05-088b-4157-9757-96473dae7470"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='a6a6051de-07b4-4027-99b2-c22216dfaf47' onclick='refl("aa49c70dd-d47b-4bfb-8689-f0ea916e0607");oc("a6a6051de-07b4-4027-99b2-c22216dfaf47"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;28&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="a11b0ae7c-6fa0-432f-93c7-959693fece2e"  >PK_trabajo_id</span><span class='local' >&nbsp;</span>PRIMARY&nbsp;KEY&nbsp;(<span class='local' ID="a2bc81e07-4dee-4454-8242-571f4cbe1691"  >id</span>)</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='a9278573b-03e8-4fce-bbf7-1be51b860f54' onclick='refl("a81d95e9b-0c93-4fc6-a1d0-fcaea8389b31");oc("a9278573b-03e8-4fce-bbf7-1be51b860f54"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;29&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="a8679444f-bf14-4f31-8379-a1c6fc70171e"  >trabajo$fk_trabajo_trabajo1</span><span class='local' >&nbsp;</span>FOREIGN&nbsp;KEY&nbsp;(<span class='local' ID="ace2e8e05-8a9c-45ce-8c7f-f132cca0ae40"  >[id_trabajo-t]</span>)<span class='local' >&nbsp;</span>REFERENCES&nbsp;<span class='local' ID="a066def35-48c3-416c-a14c-a0c6ec798986"  >dbo</span>.<span class='local' ID="add2590cb-2e3b-4730-9383-30069c1fc7f6"  >trabajo</span><span class='local' >&nbsp;</span>(<span class='local' ID="a1f2b7ea9-0be7-4d1d-93fb-f4d195bec85b"  >id</span>)<span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;30&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;DELETE&nbsp;NO&nbsp;ACTION</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;31&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;UPDATE&nbsp;NO&nbsp;ACTION</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;32&nbsp;</code>
)</div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;33&nbsp;</code>
GO<div class='unselectedDiv1' ID='a389c1fd1-de38-4b5a-9998-5c07d2bce4fb' onclick='oc("a389c1fd1-de38-4b5a-9998-5c07d2bce4fb")'  ><div class='unselectedDiv2' ID='a5e42b9fb-e9aa-44e0-9864-28477e310637' onclick='oc("a5e42b9fb-e9aa-44e0-9864-28477e310637")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;34&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a441c5564-1b99-48d3-8f1d-5ee4a0751385"  >dbo</span>.<span class='local' ID="a64fa2ce7-3a86-43f5-ada7-0218f88d805f"  >str2enum$trabajo$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;35&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='ac48178c0-3e7b-432a-92da-a6c6eb56f46f' onclick='oc("ac48178c0-3e7b-432a-92da-a6c6eb56f46f")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;36&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a84f5eb56-f562-44f6-9bef-25c2d551b768"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="ae3e4fedd-8378-4234-9a84-3b0d69b20cf9"  >nvarchar(<span class='local' ID="a09043fca-53be-4f14-8dc2-f3f0b04b349e"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;37&nbsp;</code>
)<div class='unselectedDiv3' ID='aea0803eb-aa9c-49b2-88a1-5d77c8c45603' onclick='oc("aea0803eb-aa9c-49b2-88a1-5d77c8c45603")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;38&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a70f0aa8f-2e7b-4aee-b3ac-50f0ed5edee9"  >tinyint</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;39&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='abcac67a4-b262-4aa5-9d49-c560d8740d28' onclick='oc("abcac67a4-b262-4aa5-9d49-c560d8740d28")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;40&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='adcb4ba59-e00e-424c-a661-9879e50e43ff' onclick='oc("adcb4ba59-e00e-424c-a661-9879e50e43ff")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;41&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;42&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a9c7de632-0c44-4442-a942-b5fd0cfad7fe"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;43&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'I'<span class='local' >&nbsp;THEN&nbsp;</span>1<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;44&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'P'<span class='local' >&nbsp;THEN&nbsp;</span>2<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;45&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'T'<span class='local' >&nbsp;THEN&nbsp;</span>3<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;46&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;0<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;47&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;48&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;49&nbsp;</code>
GO<div class='unselectedDiv1' ID='a43a06cc4-fb29-440b-9059-30346560d063' onclick='oc("a43a06cc4-fb29-440b-9059-30346560d063")'  ><div class='unselectedDiv2' ID='a6c7d1e3d-6dea-4fe2-baa7-a16457db2c70' onclick='oc("a6c7d1e3d-6dea-4fe2-baa7-a16457db2c70")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;50&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a76e3114b-c1bc-4648-befd-c533f165e24c"  >dbo</span>.<span class='local' ID="ae679c545-4344-4a94-88ce-830e5e82392f"  >enum2str$trabajo$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;51&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a314125b6-04ba-4ba8-999f-08222a592970' onclick='oc("a314125b6-04ba-4ba8-999f-08222a592970")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;52&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a2ae61a9b-b33c-491b-9e87-de6145ef40bd"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a6321e00b-9ddf-4287-b757-bca74c7314cc"  >tinyint</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;53&nbsp;</code>
)<div class='unselectedDiv3' ID='a612c7cf3-df60-4298-a205-c2b6f0743510' onclick='oc("a612c7cf3-df60-4298-a205-c2b6f0743510")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;54&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a10303373-9590-44dd-bdde-0190650a2c86"  >nvarchar(<span class='local' ID="a5f5a3496-804d-4d20-8d0d-e2d2c119fed4"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;55&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a67900d41-3e7f-4048-91b0-5a0e84e5ddfe' onclick='oc("a67900d41-3e7f-4048-91b0-5a0e84e5ddfe")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;56&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a0e5e3495-f977-4a42-b45b-1a1b29409a00' onclick='oc("a0e5e3495-f977-4a42-b45b-1a1b29409a00")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;57&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;58&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a03f328ab-729c-4a5e-bd4f-754cda4d04a4"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;59&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;1<span class='local' >&nbsp;THEN&nbsp;</span>'I'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;60&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;2<span class='local' >&nbsp;THEN&nbsp;</span>'P'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;61&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;3<span class='local' >&nbsp;THEN&nbsp;</span>'T'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;62&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;''<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;63&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;64&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;65&nbsp;</code>
GO<div class='unselectedDiv1' ID='a57e53f87-0190-4498-9f91-836f9d6daed8' onclick='oc("a57e53f87-0190-4498-9f91-836f9d6daed8")'  ><div class='unselectedDiv2' ID='a71d47569-69f0-4431-9f96-c3495de945a8' onclick='oc("a71d47569-69f0-4431-9f96-c3495de945a8")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;66&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="addccbb2d-7c0b-4d10-b8ca-813e4c4a7191"  >dbo</span>.<span class='local' ID="ac4245013-7534-40d6-9c94-ee80ca411bff"  >norm_enum$trabajo$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;67&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='af243a8a3-65c2-4464-bdef-26fdb3445cbe' onclick='oc("af243a8a3-65c2-4464-bdef-26fdb3445cbe")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;68&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a50a1dd7e-2e85-477e-9726-ca5d99fa4bc1"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a9efca8fb-e963-49b5-b5b8-c22e2c8b1424"  >nvarchar(<span class='local' ID="a7fe6657a-6ee5-4d33-8d91-75e7c42aa67f"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;69&nbsp;</code>
)<div class='unselectedDiv3' ID='a1bcde281-4815-4247-9bbe-4c0c1c898438' onclick='oc("a1bcde281-4815-4247-9bbe-4c0c1c898438")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;70&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a5de62840-40fd-49a9-886b-ef0cb6b66e12"  >nvarchar(<span class='local' ID="acc325072-b0ed-4dc0-a59e-34224f0149b9"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;71&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a7fa7da34-2243-4c82-af1e-6457240019e3' onclick='oc("a7fa7da34-2243-4c82-af1e-6457240019e3")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;72&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='ae42cf88c-6504-44d9-8c32-5b0c8fae6986' onclick='oc("ae42cf88c-6504-44d9-8c32-5b0c8fae6986")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;73&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<span class='local' ID="aac4ee269-1b64-4770-b8f0-ca178dadb848"  >dbo</span>.<span class='local' ID="a1fa79730-5ae3-43ea-9c57-60b239a64440"  >enum2str$trabajo$etapa(<span class='local' ID="a467eade5-bd07-4d79-a13e-6ffab29140cf"  >dbo</span>.<span class='local' ID="a9b22fa87-c419-421a-b053-971ef0a90a4e"  >str2enum$trabajo$etapa(<span class='local' ID="a13ab0ff5-8775-49d9-8729-c1d26ff6b92e"  >@setval</span>)</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;74&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;75&nbsp;</code>
GO<div class='unselectedDiv1' ID='a9b291696-ea79-4a61-b728-56bdc2717c10' onclick='oc("a9b291696-ea79-4a61-b728-56bdc2717c10")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;76&nbsp;</code>
CREATE&nbsp;<span class='local' >NONCLUSTERED</span>&nbsp;INDEX&nbsp;<span class='local' ID="a31e039fa-54ed-40c4-82be-8f393165b142"  >fk_trabajo_trabajo1_idx</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;77&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;<span class='local' ID="af08dc4c0-2bde-4078-8424-8d6033a34830"  >dbo</span>.<span class='local' ID="ac806c7e7-f881-4266-824c-39f8a201a8b6"  >trabajo</span><span class='local' >&nbsp;</span>(<span class='local' ID="a8b00f8ba-ad0b-414d-9602-00d4378ca607"  >[id_trabajo-t]</span><span class='local' >&nbsp;</span><span class='local' >ASC</span>)</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;78&nbsp;</code>
GO<nobr/></body></html>