<html> <head> <META http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /> <LINK REL=stylesheet HREF="../textstyles.css" type="text/css">   <TITLE>{0} ({1}) </TITLE> <SCRIPT LANGUAGE='javascript' TYPE='text/javascript' SRC='../global.js'></SCRIPT></head><body  onload='collectProblems()' class = "sqlBody" link="0000ff" vlink="0000ff" bgcolor="white"leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"><div display='no' ><span id='prevProblem' onclick='prevProblem()'></span><span id='nextProblem' onclick='nextProblem()'></span><span id='prevSibling' onclick='prevSibling()'></span><span id='nextSibling' onclick='nextSibling1()'></span><span id='prevBookmark' onclick='prevBookmark()'></span><span id='nextBookmark' onclick='nextBookmark()'></span><span id='clearBookmarks' onclick='clearBookmarks()'></span></div><nobr><div class='unselectedDiv1' ID='a4b64de93-56f3-45cc-bf13-895c93e6a300' onclick='refl("aad3dbb29-696a-4268-87bf-aee5e80758e5||f546ccd2-7d1c-44bc-bd47-5b0af26b0292");oc("a4b64de93-56f3-45cc-bf13-895c93e6a300"); '  ><div class='unselectedDiv2' ID='a424013d1-a4b2-4c64-8452-53aee54153ac' onclick='refl("a678819c8-9b19-4cea-9052-6b42013c4bd5");oc("a424013d1-a4b2-4c64-8452-53aee54153ac"); '  ><err category = '2'/><span class='errMessage' ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;1&nbsp;</code>
/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;2&nbsp;</code>
*&nbsp;&nbsp;&nbsp;SSMA&nbsp;informational&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;3&nbsp;</code>
*&nbsp;&nbsp;&nbsp;M2SS0003:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;=&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;4&nbsp;</code>
*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;5&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;6&nbsp;</code>
CREATE&nbsp;TABLE&nbsp;<span class='local' ID="a2c2db35b-342e-45bb-9d26-5477cb752b0b"  >dbo</span>.<span class='local' ID="a7f0989ea-cf30-45ec-a574-53b33d9adfb7"  >producto</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;7&nbsp;</code>
(<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;8&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a09a5a241-87da-4a09-8f14-61600e0c691a"  >id</span><span class='local' >&nbsp;</span><span class='local' ID="af278bd55-15bc-4edb-8eb6-2fb615a42810"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >&nbsp;</span>IDENTITY<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;9&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;10&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;11&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;12&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;13&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;14&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a46820640-b424-4213-b326-dcf355a5e370"  >nombre</span><span class='local' >&nbsp;</span><span class='local' ID="ae01991ce-7158-4249-a24f-9527e8dd0853"  >nvarchar(45)</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;15&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;16&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;17&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;18&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;19&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;20&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a3c0e035b-b777-472b-829e-fc4171832043"  >detalle</span><span class='local' >&nbsp;</span><span class='local' ID="ad3c013ef-65ea-4f74-a602-86b6e7359927"  >nvarchar(100)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;21&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;22&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;23&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;24&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;25&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;26&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="aa4e289f0-b574-403d-8ff0-de2f472e9c3e"  >etapa</span><span class='local' >&nbsp;</span><span class='local' ID="ae62e32a8-8956-4f70-951c-51a6bcddf8eb"  >nvarchar(1)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;27&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a9175fe51-016b-4fb2-a6c7-849696fb54e7"  >[id_producto-p]</span><span class='local' >&nbsp;</span><span class='local' ID="a85599547-f793-4ae1-8f8b-62becab0826e"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='aedeb3047-2f48-45e7-a484-1a84aff26d12' onclick='refl("a909ac76b-f92f-4e6c-94c6-283e9d6cce27");oc("aedeb3047-2f48-45e7-a484-1a84aff26d12"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;28&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="aafb1a9c8-0485-4141-b4e7-b2f8818ac854"  >PK_producto_id</span><span class='local' >&nbsp;</span>PRIMARY&nbsp;KEY&nbsp;(<span class='local' ID="a5de10e5b-ac48-4d60-959a-9e483b65a162"  >id</span>)</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='a8419bced-a37a-4a2e-957d-229f2e9c6956' onclick='refl("a5b85059b-5c5d-45ba-b630-bf6b127e4b7e");oc("a8419bced-a37a-4a2e-957d-229f2e9c6956"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;29&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="aa33b68d1-ee0b-47af-ab54-a0a643c34f52"  >producto$fk_producto_producto1</span><span class='local' >&nbsp;</span>FOREIGN&nbsp;KEY&nbsp;(<span class='local' ID="a0e2484b3-498a-4184-b8f3-0eb83934b812"  >[id_producto-p]</span>)<span class='local' >&nbsp;</span>REFERENCES&nbsp;<span class='local' ID="a48da9402-a0dd-483b-a830-cd5798062420"  >dbo</span>.<span class='local' ID="a48a5b5df-232a-4626-b419-a90c843f8651"  >producto</span><span class='local' >&nbsp;</span>(<span class='local' ID="a10ceed00-a7a0-4538-9f36-b9c43e07707a"  >id</span>)<span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;30&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;DELETE&nbsp;NO&nbsp;ACTION</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;31&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;UPDATE&nbsp;NO&nbsp;ACTION</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;32&nbsp;</code>
)</div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;33&nbsp;</code>
GO<div class='unselectedDiv1' ID='a379729b9-efaf-4154-8811-7959266c6dd5' onclick='oc("a379729b9-efaf-4154-8811-7959266c6dd5")'  ><div class='unselectedDiv2' ID='adfe7f0be-4def-4f38-bba4-c60cdb61d108' onclick='oc("adfe7f0be-4def-4f38-bba4-c60cdb61d108")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;34&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="ac7231339-605a-4905-b953-ebf814b5a01c"  >dbo</span>.<span class='local' ID="a6b2b2f09-7c8a-4572-8abd-8a5662f83812"  >str2enum$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;35&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a7a7581e0-925a-4708-ad9c-8582762e8ca1' onclick='oc("a7a7581e0-925a-4708-ad9c-8582762e8ca1")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;36&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="aefe36577-1fb7-4ba6-8929-0d9c7c215c52"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a8b40a661-c945-48a9-a6f8-8fc3a194e4cc"  >nvarchar(<span class='local' ID="ad5d231ea-f07b-4d0c-9ce0-f972e45b3625"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;37&nbsp;</code>
)<div class='unselectedDiv3' ID='a016387d3-70b8-4392-9077-18960d76b6f4' onclick='oc("a016387d3-70b8-4392-9077-18960d76b6f4")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;38&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a1df68738-f766-451c-b1db-185c09d27458"  >tinyint</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;39&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a05f1e9ff-21b5-4bd8-b497-cc3f8a5411f3' onclick='oc("a05f1e9ff-21b5-4bd8-b497-cc3f8a5411f3")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;40&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a3c83381f-777e-4595-8bbd-6fb1c1fcb7b7' onclick='oc("a3c83381f-777e-4595-8bbd-6fb1c1fcb7b7")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;41&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;42&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a93367569-13a0-4549-a489-1c734a8615f0"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;43&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'I'<span class='local' >&nbsp;THEN&nbsp;</span>1<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;44&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'P'<span class='local' >&nbsp;THEN&nbsp;</span>2<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;45&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'T'<span class='local' >&nbsp;THEN&nbsp;</span>3<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;46&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;0<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;47&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;48&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;49&nbsp;</code>
GO<div class='unselectedDiv1' ID='a159be701-eda5-4298-b5e0-57db0e95f18a' onclick='oc("a159be701-eda5-4298-b5e0-57db0e95f18a")'  ><div class='unselectedDiv2' ID='a3ac2215a-ee32-4fbf-87fa-7176f14a2766' onclick='oc("a3ac2215a-ee32-4fbf-87fa-7176f14a2766")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;50&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="afa84c604-b762-4b91-838a-a1bb9aff8047"  >dbo</span>.<span class='local' ID="ab500c9fe-c2ca-4ff5-bc5d-b9f82129979e"  >enum2str$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;51&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a2de4064c-3b55-49b7-90b4-6f48069f7e53' onclick='oc("a2de4064c-3b55-49b7-90b4-6f48069f7e53")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;52&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a2f0f7fa4-d0a1-49ca-8804-e37c82aaa3b9"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a14ef439c-f0ca-4543-a05c-84127c6a8ff3"  >tinyint</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;53&nbsp;</code>
)<div class='unselectedDiv3' ID='afabd0ff4-2dd0-404f-b0e2-747bc0cde0e4' onclick='oc("afabd0ff4-2dd0-404f-b0e2-747bc0cde0e4")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;54&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a60c6f975-3c98-4235-8e44-dbc4cc76f285"  >nvarchar(<span class='local' ID="afcc56de4-537a-4b1c-8b62-d578c688fd4f"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;55&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a00d74bfd-8d70-4a76-b76d-9285c4dfb393' onclick='oc("a00d74bfd-8d70-4a76-b76d-9285c4dfb393")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;56&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a2c4108c8-5ac5-4352-b79f-cc8e6de810f5' onclick='oc("a2c4108c8-5ac5-4352-b79f-cc8e6de810f5")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;57&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;58&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="ad9a00cdd-4285-467c-82c5-4907d90591ed"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;59&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;1<span class='local' >&nbsp;THEN&nbsp;</span>'I'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;60&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;2<span class='local' >&nbsp;THEN&nbsp;</span>'P'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;61&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;3<span class='local' >&nbsp;THEN&nbsp;</span>'T'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;62&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;''<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;63&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;64&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;65&nbsp;</code>
GO<div class='unselectedDiv1' ID='aab8cadb6-a666-491b-b9b3-4a154471f5e8' onclick='oc("aab8cadb6-a666-491b-b9b3-4a154471f5e8")'  ><div class='unselectedDiv2' ID='a95dab396-a5df-44dc-a9db-9f56e0cfe875' onclick='oc("a95dab396-a5df-44dc-a9db-9f56e0cfe875")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;66&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="aa8187b4c-3130-4742-92f2-afea8100a80e"  >dbo</span>.<span class='local' ID="aadf912b9-6cf9-4666-a833-610569197e7a"  >norm_enum$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;67&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='aac0c21b8-aa45-4d53-aa7a-5449bae0fde8' onclick='oc("aac0c21b8-aa45-4d53-aa7a-5449bae0fde8")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;68&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a0b799c52-8097-46b0-9788-ed7fe92f0e3f"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a83710f17-3644-4820-b408-c7094a9ef21f"  >nvarchar(<span class='local' ID="abb2530f0-401b-433d-8d86-a530d433c745"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;69&nbsp;</code>
)<div class='unselectedDiv3' ID='a5d1e0b16-b67a-4770-86d7-0e471b5c0771' onclick='oc("a5d1e0b16-b67a-4770-86d7-0e471b5c0771")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;70&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a2fafbb3a-0e4e-457f-84f2-bd24295c721c"  >nvarchar(<span class='local' ID="a67b446da-edf3-41bb-86f1-179f5fa02e4b"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;71&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a129d765b-5438-47a6-b3f8-d259cb136d91' onclick='oc("a129d765b-5438-47a6-b3f8-d259cb136d91")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;72&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='ae778ddad-bca2-4c01-9b23-1fa6d9606058' onclick='oc("ae778ddad-bca2-4c01-9b23-1fa6d9606058")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;73&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<span class='local' ID="a3496bb52-47c9-4477-9594-47aec7983e24"  >dbo</span>.<span class='local' ID="ab31abafc-1490-4a31-91ad-0563226bccf7"  >enum2str$producto$etapa(<span class='local' ID="a5af02486-919f-46da-8714-63d18be4199b"  >dbo</span>.<span class='local' ID="a74a8e689-07c9-42b6-8875-f63dc82ea3c1"  >str2enum$producto$etapa(<span class='local' ID="a17feec9c-0331-4275-b021-b5f33747f98f"  >@setval</span>)</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;74&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;75&nbsp;</code>
GO<div class='unselectedDiv1' ID='a66d44c10-bfcf-4593-975d-2442d830a19e' onclick='oc("a66d44c10-bfcf-4593-975d-2442d830a19e")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;76&nbsp;</code>
CREATE&nbsp;<span class='local' >NONCLUSTERED</span>&nbsp;INDEX&nbsp;<span class='local' ID="abada5a19-7c22-4246-92cb-0514a32d64e4"  >fk_producto_producto1_idx</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;77&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;<span class='local' ID="adcb996b9-2364-45b7-9b83-fab5bd307a23"  >dbo</span>.<span class='local' ID="a6ecbcb33-3ea4-435b-8b82-4d64d06846b9"  >producto</span><span class='local' >&nbsp;</span>(<span class='local' ID="ae092e82d-f418-4016-a744-cca3de3b8ad2"  >[id_producto-p]</span><span class='local' >&nbsp;</span><span class='local' >ASC</span>)</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;78&nbsp;</code>
GO<nobr/></body></html>