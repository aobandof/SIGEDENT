<html> <head> <META http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /> <LINK REL=stylesheet HREF="../textstyles.css" type="text/css">   <TITLE>{0} ({1}) </TITLE> <SCRIPT LANGUAGE='javascript' TYPE='text/javascript' SRC='../global.js'></SCRIPT></head><body  onload='collectProblems()' class = "sqlBody" link="0000ff" vlink="0000ff" bgcolor="white"leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"><div display='no' ><span id='prevProblem' onclick='prevProblem()'></span><span id='nextProblem' onclick='nextProblem()'></span><span id='prevSibling' onclick='prevSibling()'></span><span id='nextSibling' onclick='nextSibling1()'></span><span id='prevBookmark' onclick='prevBookmark()'></span><span id='nextBookmark' onclick='nextBookmark()'></span><span id='clearBookmarks' onclick='clearBookmarks()'></span></div><nobr><div class='unselectedDiv1' ID='ac5f2b94e-3e74-42ac-ae56-18b3c0ef7e5c' onclick='refl("a2349fb11-3302-4b56-a11c-6c25023197e1||fb8c6ff0-5c9c-4a2a-a4db-df232e33e94c");oc("ac5f2b94e-3e74-42ac-ae56-18b3c0ef7e5c"); '  ><div class='unselectedDiv2' ID='a334f53cf-668a-48b3-90fd-4dbf8f14eea4' onclick='refl("a2405f939-4581-47d2-b313-6885be890948");oc("a334f53cf-668a-48b3-90fd-4dbf8f14eea4"); '  ><err category = '2'/><span class='errMessage' ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;1&nbsp;</code>
/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;2&nbsp;</code>
*&nbsp;&nbsp;&nbsp;SSMA&nbsp;informational&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;3&nbsp;</code>
*&nbsp;&nbsp;&nbsp;M2SS0003:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;=&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;4&nbsp;</code>
*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;5&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;6&nbsp;</code>
CREATE&nbsp;TABLE&nbsp;<span class='local' ID="a05c5fdcc-1df5-4c83-b693-2cdf3aeee3ee"  >dbo</span>.<span class='local' ID="a235fdb74-8147-4b07-807e-52c4ab9e80d2"  >producto</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;7&nbsp;</code>
(<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;8&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="aff69618b-6115-48e6-9b28-e48d87c41065"  >id</span><span class='local' >&nbsp;</span><span class='local' ID="ae9269658-bb78-4e14-a30f-f2b1af38272c"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >&nbsp;</span>IDENTITY<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;9&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;10&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;11&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;12&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;13&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;14&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="ac1348e48-65ad-414b-bdbd-864c35d38f07"  >nombre</span><span class='local' >&nbsp;</span><span class='local' ID="acad8df1e-eeba-4ead-a91e-a8681b33e855"  >nvarchar(45)</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;15&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;16&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;17&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;18&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;19&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;20&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a5237b0c0-b865-46a2-98c6-c437443220da"  >detalle</span><span class='local' >&nbsp;</span><span class='local' ID="a471f2a39-eb03-4311-a6b7-695f3460f173"  >nvarchar(100)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;21&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;22&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;23&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;24&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;25&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;26&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a94743585-9d55-42c5-b08e-049fcd43f0ed"  >etapa</span><span class='local' >&nbsp;</span><span class='local' ID="afea577ee-3487-49f8-9b6a-d5fee7b785e9"  >nvarchar(1)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;27&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a816ef169-c82f-48b9-ba63-d38c0d52dc9d"  >[id_producto-p]</span><span class='local' >&nbsp;</span><span class='local' ID="a099b5022-99cd-4c80-917f-704b3e22ca4d"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='af61603d8-5352-4c88-bf6b-c35efbcb4245' onclick='refl("ae5ae097f-ecdc-4edc-8533-763a3eefe452");oc("af61603d8-5352-4c88-bf6b-c35efbcb4245"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;28&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="a0d693489-6bf7-4fe2-ad03-7f9de1912d8e"  >PK_producto_id</span><span class='local' >&nbsp;</span>PRIMARY&nbsp;KEY&nbsp;(<span class='local' ID="a46cbbfc2-d0cb-49d7-9b12-443e534b4b48"  >id</span>)</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='aff540d78-d014-47c2-89d2-491c093a239f' onclick='refl("af086430f-25c2-4f28-aff5-d959dd27c849");oc("aff540d78-d014-47c2-89d2-491c093a239f"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;29&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="a4bb68d8d-3564-4f66-893e-10b63437dd04"  >producto$fk_producto_producto1</span><span class='local' >&nbsp;</span>FOREIGN&nbsp;KEY&nbsp;(<span class='local' ID="aedd33854-a406-4b22-9b1c-ab0da2cf494f"  >[id_producto-p]</span>)<span class='local' >&nbsp;</span>REFERENCES&nbsp;<span class='local' ID="a0e3a3700-b0c6-4547-9af6-7a4e6d2c1293"  >dbo</span>.<span class='local' ID="ad3941d8d-bb26-4cf4-9d53-fbbc7cc1cd62"  >producto</span><span class='local' >&nbsp;</span>(<span class='local' ID="af713e0d5-7bbe-49f2-bb29-b9b439de4063"  >id</span>)<span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;30&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;DELETE&nbsp;NO&nbsp;ACTION</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;31&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;UPDATE&nbsp;NO&nbsp;ACTION</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;32&nbsp;</code>
)</div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;33&nbsp;</code>
GO<div class='unselectedDiv1' ID='ab9f8c074-76e7-4d80-b722-90cadf173cd0' onclick='oc("ab9f8c074-76e7-4d80-b722-90cadf173cd0")'  ><div class='unselectedDiv2' ID='a38588433-d4b5-4e23-b784-715210189e4e' onclick='oc("a38588433-d4b5-4e23-b784-715210189e4e")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;34&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="aa546ffa1-0983-4387-b445-84fdd3871fbb"  >dbo</span>.<span class='local' ID="a1b44d291-bb0e-427b-bc66-79992584f181"  >str2enum$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;35&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a2eaf3e48-7c30-4815-9f61-1837c110fd62' onclick='oc("a2eaf3e48-7c30-4815-9f61-1837c110fd62")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;36&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a410a32a8-8dcb-4180-8d69-99ba175fd37c"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="aec43aed8-b854-488e-bb29-71b6cce5c79a"  >nvarchar(<span class='local' ID="ac210e19a-b71b-4ceb-a16f-1f3143afecc8"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;37&nbsp;</code>
)<div class='unselectedDiv3' ID='a75b8c088-06f2-4539-a5d9-d1209dba669b' onclick='oc("a75b8c088-06f2-4539-a5d9-d1209dba669b")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;38&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a8a5964f4-a11e-4522-90d6-5be2cfae196d"  >tinyint</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;39&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a38c0a216-d007-44ea-a582-9e5266faef0d' onclick='oc("a38c0a216-d007-44ea-a582-9e5266faef0d")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;40&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a25e34e09-b959-4a53-867a-ddf87a076ce5' onclick='oc("a25e34e09-b959-4a53-867a-ddf87a076ce5")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;41&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;42&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a8aaf27f4-4ec6-4dcf-b1cf-7075f07a924c"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;43&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'I'<span class='local' >&nbsp;THEN&nbsp;</span>1<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;44&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'P'<span class='local' >&nbsp;THEN&nbsp;</span>2<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;45&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'T'<span class='local' >&nbsp;THEN&nbsp;</span>3<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;46&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;0<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;47&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;48&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;49&nbsp;</code>
GO<div class='unselectedDiv1' ID='afad49ecf-e298-487d-b6a3-8cdd9546cd0c' onclick='oc("afad49ecf-e298-487d-b6a3-8cdd9546cd0c")'  ><div class='unselectedDiv2' ID='a32b3b017-c6de-4f88-87fa-5e18842875d9' onclick='oc("a32b3b017-c6de-4f88-87fa-5e18842875d9")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;50&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a7dec7a83-b3f0-4ea1-bb56-fae659ee06a9"  >dbo</span>.<span class='local' ID="a154073cc-03e2-4a1a-a7e7-ccfbf61423f9"  >enum2str$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;51&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='ac485f854-152c-48bb-84fb-8631a5f1d900' onclick='oc("ac485f854-152c-48bb-84fb-8631a5f1d900")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;52&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a6edadf81-fd05-4e0d-89d2-6cf016e22a9e"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a78838d55-503a-4b9b-b59b-b881dea36399"  >tinyint</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;53&nbsp;</code>
)<div class='unselectedDiv3' ID='ad13a4054-4177-46c8-9e7d-38cd2ca2e9d2' onclick='oc("ad13a4054-4177-46c8-9e7d-38cd2ca2e9d2")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;54&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a3bab1777-d60b-4f64-a065-c0ccc99d92bf"  >nvarchar(<span class='local' ID="ae575646a-c090-48ee-901c-86b4be33d2f0"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;55&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a70164c77-44e8-43ec-8137-a5795c118ec2' onclick='oc("a70164c77-44e8-43ec-8137-a5795c118ec2")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;56&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='af2f7d5c1-000d-4284-b037-ab685ffb64a7' onclick='oc("af2f7d5c1-000d-4284-b037-ab685ffb64a7")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;57&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;58&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a6e5d231d-7f1a-4955-bb0b-daccba34ef85"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;59&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;1<span class='local' >&nbsp;THEN&nbsp;</span>'I'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;60&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;2<span class='local' >&nbsp;THEN&nbsp;</span>'P'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;61&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;3<span class='local' >&nbsp;THEN&nbsp;</span>'T'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;62&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;''<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;63&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;64&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;65&nbsp;</code>
GO<div class='unselectedDiv1' ID='a297ed6d8-89c0-411f-931d-a49870792aa2' onclick='oc("a297ed6d8-89c0-411f-931d-a49870792aa2")'  ><div class='unselectedDiv2' ID='a2a5958c0-5b9b-4d75-aac6-c32ea495a34d' onclick='oc("a2a5958c0-5b9b-4d75-aac6-c32ea495a34d")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;66&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a2ea37284-fd6b-4b4e-b32b-af1888191430"  >dbo</span>.<span class='local' ID="a48d39c74-263d-46c7-aaf1-4390adf9b0d4"  >norm_enum$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;67&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a84beb93f-4399-4ddd-8f6a-770e83346fd6' onclick='oc("a84beb93f-4399-4ddd-8f6a-770e83346fd6")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;68&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a2c797812-0866-4c95-af7a-91b21f991663"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="aa21a22e8-5666-4eaf-b972-4a7e1ae3e746"  >nvarchar(<span class='local' ID="a63be60ff-7943-4821-adf3-355d2d82e832"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;69&nbsp;</code>
)<div class='unselectedDiv3' ID='a07896e09-ef3b-4ba9-9b49-fffe7de60f08' onclick='oc("a07896e09-ef3b-4ba9-9b49-fffe7de60f08")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;70&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a9a4eb25a-c11e-4874-b34b-0886f05ea281"  >nvarchar(<span class='local' ID="ae892435f-8ade-4c44-a826-aa20c48dd1b6"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;71&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='ad6408e5d-a623-4dbb-9eb0-dfd96447eacc' onclick='oc("ad6408e5d-a623-4dbb-9eb0-dfd96447eacc")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;72&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='ab5c7f14a-e4db-445e-bf54-23c4f35f01c2' onclick='oc("ab5c7f14a-e4db-445e-bf54-23c4f35f01c2")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;73&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<span class='local' ID="ab8f7af6a-d34e-412a-9f17-46c4e4b29210"  >dbo</span>.<span class='local' ID="a6be255a8-c2f6-48fd-9e92-ef4c4247b406"  >enum2str$producto$etapa(<span class='local' ID="a0dcfafb1-8da7-439e-beea-b75e0ffed0aa"  >dbo</span>.<span class='local' ID="a2e705a3f-460a-4e52-b13b-8b8372df6f64"  >str2enum$producto$etapa(<span class='local' ID="a94603cc9-3ef2-4033-ac8b-e0f05a7e26be"  >@setval</span>)</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;74&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;75&nbsp;</code>
GO<div class='unselectedDiv1' ID='a3c8d70b4-bd25-451e-87c9-62e04b259baa' onclick='oc("a3c8d70b4-bd25-451e-87c9-62e04b259baa")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;76&nbsp;</code>
CREATE&nbsp;<span class='local' >NONCLUSTERED</span>&nbsp;INDEX&nbsp;<span class='local' ID="ae1f73bd0-6b79-4f19-88ab-4fd2a9925f96"  >fk_producto_producto1_idx</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;77&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;<span class='local' ID="a423b23c8-9b7f-4ce4-944c-4c1b2b7f0d97"  >dbo</span>.<span class='local' ID="a949184f6-82f8-4f03-a768-fd8e62d8c589"  >producto</span><span class='local' >&nbsp;</span>(<span class='local' ID="a8e95280e-adf9-4d7d-acb1-420ddc853e70"  >[id_producto-p]</span><span class='local' >&nbsp;</span><span class='local' >ASC</span>)</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;78&nbsp;</code>
GO<nobr/></body></html>