<html> <head> <META http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /> <LINK REL=stylesheet HREF="../textstyles.css" type="text/css">   <TITLE>{0} ({1}) </TITLE> <SCRIPT LANGUAGE='javascript' TYPE='text/javascript' SRC='../global.js'></SCRIPT></head><body  onload='collectProblems()' class = "sqlBody" link="0000ff" vlink="0000ff" bgcolor="white"leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"><div display='no' ><span id='prevProblem' onclick='prevProblem()'></span><span id='nextProblem' onclick='nextProblem()'></span><span id='prevSibling' onclick='prevSibling()'></span><span id='nextSibling' onclick='nextSibling1()'></span><span id='prevBookmark' onclick='prevBookmark()'></span><span id='nextBookmark' onclick='nextBookmark()'></span><span id='clearBookmarks' onclick='clearBookmarks()'></span></div><nobr><div class='unselectedDiv1' ID='a413c614e-f035-4809-a4e0-ba0ae9656dcd' onclick='refl("aeb09a365-4c6f-4a7d-a21d-c56c88cc3870||7139a108-2706-4d96-9aeb-390fff4f35bc");oc("a413c614e-f035-4809-a4e0-ba0ae9656dcd"); '  ><div class='unselectedDiv2' ID='ab1fe423c-627c-414a-a86e-6c6fa52d580b' onclick='refl("a0e8ec14f-f6a0-49e5-bbdf-6e1e38a15e5b");oc("ab1fe423c-627c-414a-a86e-6c6fa52d580b"); '  ><err category = '2'/><span class='errMessage' ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;1&nbsp;</code>
/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;2&nbsp;</code>
*&nbsp;&nbsp;&nbsp;SSMA&nbsp;informational&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;3&nbsp;</code>
*&nbsp;&nbsp;&nbsp;M2SS0003:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;=&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;4&nbsp;</code>
*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;5&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;6&nbsp;</code>
CREATE&nbsp;TABLE&nbsp;<span class='local' ID="a7e7fc108-ce8f-4ac8-93d8-e5abee1d4281"  >dbo</span>.<span class='local' ID="a2c11d61c-6351-4199-8d5c-670762bf62bf"  >trabajo</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;7&nbsp;</code>
(<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;8&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a4d157d10-1b42-441e-9d44-7bcb8e8082bd"  >id</span><span class='local' >&nbsp;</span><span class='local' ID="a7df6a6a5-06ae-4e1d-8352-74d598004929"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >&nbsp;</span>IDENTITY<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;9&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;10&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;11&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;12&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;13&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;14&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a57d17543-c769-4122-8c0d-29901d5f6be4"  >nombre</span><span class='local' >&nbsp;</span><span class='local' ID="a8969f9f8-02a2-4646-baa3-8180c5d8fae0"  >nvarchar(45)</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;15&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;16&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;17&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;18&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;19&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;20&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a3b7cc3da-5ebc-49f7-8234-c940346504e2"  >detalle</span><span class='local' >&nbsp;</span><span class='local' ID="a8a339c99-8092-4942-b8c2-ecdaf358e142"  >nvarchar(100)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;21&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;22&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;23&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;24&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;25&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;26&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a4b3ec140-1fa6-443f-b363-19a495749cc9"  >etapa</span><span class='local' >&nbsp;</span><span class='local' ID="a731eec62-2ed0-48db-9ba2-787b600f486e"  >nvarchar(1)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;27&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="adbeb0c69-15a8-4805-bd4e-a7796cd45719"  >[id_trabajo-t]</span><span class='local' >&nbsp;</span><span class='local' ID="a6998d5fa-14d3-489a-9920-64fada1ce7c3"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='af2339001-59f8-4215-974f-49936cc06652' onclick='refl("ad825583b-d177-4550-ad0c-d49314be328b");oc("af2339001-59f8-4215-974f-49936cc06652"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;28&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="a825c28a4-690b-4c87-b286-4ef3f44fe1c5"  >PK_trabajo_id</span><span class='local' >&nbsp;</span>PRIMARY&nbsp;KEY&nbsp;(<span class='local' ID="ac6fcffd3-a842-435d-aa7b-7f09c94ab6a2"  >id</span>)</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='af1252057-3814-4226-9755-71cb21f294b6' onclick='refl("a3091708e-d919-4834-8876-8eaff7e02300");oc("af1252057-3814-4226-9755-71cb21f294b6"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;29&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="abdd8ffdb-ae82-4e54-973b-4f59fe589297"  >trabajo$fk_trabajo_trabajo1</span><span class='local' >&nbsp;</span>FOREIGN&nbsp;KEY&nbsp;(<span class='local' ID="a1cc299ab-ef7e-42a4-bd14-273a19d3eb46"  >[id_trabajo-t]</span>)<span class='local' >&nbsp;</span>REFERENCES&nbsp;<span class='local' ID="af8e7413a-0dcd-4c50-8f6c-b29bc113f4cf"  >dbo</span>.<span class='local' ID="a7b95203d-2b7a-446e-9b8e-b8979977896b"  >trabajo</span><span class='local' >&nbsp;</span>(<span class='local' ID="a9ae2801c-487f-4c18-b07f-020404fd50ac"  >id</span>)<span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;30&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;DELETE&nbsp;NO&nbsp;ACTION</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;31&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;UPDATE&nbsp;NO&nbsp;ACTION</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;32&nbsp;</code>
)</div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;33&nbsp;</code>
GO<div class='unselectedDiv1' ID='a67b6404c-933c-48b7-a7af-64e1d4ea7f16' onclick='oc("a67b6404c-933c-48b7-a7af-64e1d4ea7f16")'  ><div class='unselectedDiv2' ID='aa571643a-c4c5-4381-9e61-e154d73df1dc' onclick='oc("aa571643a-c4c5-4381-9e61-e154d73df1dc")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;34&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a638ce68b-c870-4010-9082-70114ebfa4c9"  >dbo</span>.<span class='local' ID="a561ba159-601a-459e-a410-a0748dd8881d"  >str2enum$trabajo$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;35&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='ab6cb8972-f6a3-47cd-ad40-8eb9116071d7' onclick='oc("ab6cb8972-f6a3-47cd-ad40-8eb9116071d7")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;36&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a56ebd700-b258-483a-850e-72dd121101b0"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a6eb0a760-4c54-484b-8a64-3eb718091904"  >nvarchar(<span class='local' ID="ad6a40702-cace-4bc0-853a-fca09a4576a8"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;37&nbsp;</code>
)<div class='unselectedDiv3' ID='a960c21b5-7244-437c-a34c-839a46299321' onclick='oc("a960c21b5-7244-437c-a34c-839a46299321")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;38&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a1e52c12d-f130-4c31-8f80-5699e6afabfb"  >tinyint</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;39&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a035abc55-e4a8-4f33-95f7-87d433140698' onclick='oc("a035abc55-e4a8-4f33-95f7-87d433140698")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;40&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a08f24bd7-0f3c-4582-8657-4f32a74c92ac' onclick='oc("a08f24bd7-0f3c-4582-8657-4f32a74c92ac")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;41&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;42&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a5199e1d8-5e4e-470a-87c4-efb68558ca51"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;43&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'I'<span class='local' >&nbsp;THEN&nbsp;</span>1<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;44&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'P'<span class='local' >&nbsp;THEN&nbsp;</span>2<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;45&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'T'<span class='local' >&nbsp;THEN&nbsp;</span>3<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;46&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;0<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;47&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;48&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;49&nbsp;</code>
GO<div class='unselectedDiv1' ID='ae2f92ec8-89cb-4346-a7fb-68c443976651' onclick='oc("ae2f92ec8-89cb-4346-a7fb-68c443976651")'  ><div class='unselectedDiv2' ID='ac72c26d5-eead-4efb-b276-5c4338638e25' onclick='oc("ac72c26d5-eead-4efb-b276-5c4338638e25")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;50&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="ab76c66ed-c705-4572-8805-de9cb79222b6"  >dbo</span>.<span class='local' ID="a7af6ae97-66c0-43b3-b386-d30f64860bbc"  >enum2str$trabajo$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;51&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a9208c703-6c17-4563-b989-decef338fe9f' onclick='oc("a9208c703-6c17-4563-b989-decef338fe9f")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;52&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a41c7f357-73d0-43d3-9c6f-029a235cd8a4"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a14485872-a900-4716-b765-45204af03ac8"  >tinyint</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;53&nbsp;</code>
)<div class='unselectedDiv3' ID='a1d161ca0-9a1b-4b6f-b246-829babda7f4b' onclick='oc("a1d161ca0-9a1b-4b6f-b246-829babda7f4b")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;54&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a0dada609-6c42-4d71-9370-7bf85e40a7d5"  >nvarchar(<span class='local' ID="a881c41f4-c90f-47c4-9ba3-96a1edc14aed"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;55&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='aab9c74b6-ba6a-4123-b1f8-1656b58e7056' onclick='oc("aab9c74b6-ba6a-4123-b1f8-1656b58e7056")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;56&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='ad6886852-787d-49cf-8f41-2dcf4ab328a9' onclick='oc("ad6886852-787d-49cf-8f41-2dcf4ab328a9")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;57&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;58&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="aeddea21d-7057-4e87-995a-8a4f8552e4f0"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;59&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;1<span class='local' >&nbsp;THEN&nbsp;</span>'I'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;60&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;2<span class='local' >&nbsp;THEN&nbsp;</span>'P'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;61&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;3<span class='local' >&nbsp;THEN&nbsp;</span>'T'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;62&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;''<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;63&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;64&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;65&nbsp;</code>
GO<div class='unselectedDiv1' ID='ad382e5cc-1e01-4187-840e-131f91957090' onclick='oc("ad382e5cc-1e01-4187-840e-131f91957090")'  ><div class='unselectedDiv2' ID='a5e582829-eee9-46d7-90e4-53babf18fbe5' onclick='oc("a5e582829-eee9-46d7-90e4-53babf18fbe5")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;66&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a042d9508-0655-46bf-8b02-f1ab17e89e65"  >dbo</span>.<span class='local' ID="ad87b53dd-99cb-443a-8de8-d48c6591afe6"  >norm_enum$trabajo$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;67&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='a31867687-5f95-4344-9dce-cd28d7373ff8' onclick='oc("a31867687-5f95-4344-9dce-cd28d7373ff8")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;68&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a8a38da9b-b690-4b7e-91e6-5bbf2b06f256"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a2ed7dff8-4005-4233-be52-83fdaf397208"  >nvarchar(<span class='local' ID="a6c1d7331-67cb-4e5d-8cac-4a2e02d626ed"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;69&nbsp;</code>
)<div class='unselectedDiv3' ID='ac2281833-7da9-4c57-a4cd-dd75fd2bb3eb' onclick='oc("ac2281833-7da9-4c57-a4cd-dd75fd2bb3eb")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;70&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a98b253e4-365d-490e-a0c1-aca860763ec2"  >nvarchar(<span class='local' ID="ae4116dd2-27c1-437d-8d54-3c3277f0d887"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;71&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a582b442e-faae-446c-92d0-4cb2a505e3d0' onclick='oc("a582b442e-faae-446c-92d0-4cb2a505e3d0")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;72&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='ae3d7e08e-804a-4201-85f4-71cd7b72a0c3' onclick='oc("ae3d7e08e-804a-4201-85f4-71cd7b72a0c3")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;73&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<span class='local' ID="ae803fe40-cd84-44e3-87ec-f40113843c3a"  >dbo</span>.<span class='local' ID="a525874c1-c384-4c79-abb3-f30fef0e2937"  >enum2str$trabajo$etapa(<span class='local' ID="aeaca4961-aeef-458a-95bc-243df2e14cce"  >dbo</span>.<span class='local' ID="a18b49795-bded-4146-9c96-02f5eb3f044a"  >str2enum$trabajo$etapa(<span class='local' ID="a717e2c7b-bf12-4e0b-9319-3457f2e895c7"  >@setval</span>)</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;74&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;75&nbsp;</code>
GO<div class='unselectedDiv1' ID='abf27a853-1d3e-49de-9ec7-264997588274' onclick='oc("abf27a853-1d3e-49de-9ec7-264997588274")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;76&nbsp;</code>
CREATE&nbsp;<span class='local' >NONCLUSTERED</span>&nbsp;INDEX&nbsp;<span class='local' ID="a12c27696-c5fc-414f-84b9-bad210a060c9"  >fk_trabajo_trabajo1_idx</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;77&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;<span class='local' ID="aeda674de-6140-48d3-903d-e319b5d808b7"  >dbo</span>.<span class='local' ID="a1979b234-1684-4540-8250-d205fe9898fb"  >trabajo</span><span class='local' >&nbsp;</span>(<span class='local' ID="a899aabb9-337d-4fd2-8e17-0120125c9950"  >[id_trabajo-t]</span><span class='local' >&nbsp;</span><span class='local' >ASC</span>)</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;78&nbsp;</code>
GO<nobr/></body></html>