<html> <head> <META http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /> <LINK REL=stylesheet HREF="../textstyles.css" type="text/css">   <TITLE>{0} ({1}) </TITLE> <SCRIPT LANGUAGE='javascript' TYPE='text/javascript' SRC='../global.js'></SCRIPT></head><body  onload='collectProblems()' class = "sqlBody" link="0000ff" vlink="0000ff" bgcolor="white"leftmargin="0" topmargin="0" marginheight="0" marginwidth="0"><div display='no' ><span id='prevProblem' onclick='prevProblem()'></span><span id='nextProblem' onclick='nextProblem()'></span><span id='prevSibling' onclick='prevSibling()'></span><span id='nextSibling' onclick='nextSibling1()'></span><span id='prevBookmark' onclick='prevBookmark()'></span><span id='nextBookmark' onclick='nextBookmark()'></span><span id='clearBookmarks' onclick='clearBookmarks()'></span></div><nobr><div class='unselectedDiv1' ID='a23de54be-1e19-4a91-a4ef-f8525470be1d' onclick='refl("a2349fb11-3302-4b56-a11c-6c25023197e1||fb8c6ff0-5c9c-4a2a-a4db-df232e33e94c");oc("a23de54be-1e19-4a91-a4ef-f8525470be1d"); '  ><div class='unselectedDiv2' ID='a2f13899f-8a70-45cc-b19b-98ce146bb50e' onclick='refl("a2405f939-4581-47d2-b313-6885be890948");oc("a2f13899f-8a70-45cc-b19b-98ce146bb50e"); '  ><err category = '2'/><span class='errMessage' ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;1&nbsp;</code>
/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;2&nbsp;</code>
*&nbsp;&nbsp;&nbsp;SSMA&nbsp;informational&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;3&nbsp;</code>
*&nbsp;&nbsp;&nbsp;M2SS0003:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;=&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;4&nbsp;</code>
*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;5&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;6&nbsp;</code>
CREATE&nbsp;TABLE&nbsp;<span class='local' ID="a5814726d-02a7-42aa-a1aa-742330bb845a"  >dbo</span>.<span class='local' ID="aaa7bb21d-3288-4979-8094-5b6aafb52ecc"  >producto</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;7&nbsp;</code>
(<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;8&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="adbd9d1d7-43b3-47aa-9e6d-92596aa4471f"  >id</span><span class='local' >&nbsp;</span><span class='local' ID="a2eac84b5-8303-442a-b65d-dc9f28fc2bf4"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >&nbsp;</span>IDENTITY<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;&nbsp;9&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;10&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;11&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;12&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;13&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;14&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a6e79a5e2-e7a8-4cb4-b8d4-1b2627ec53bd"  >nombre</span><span class='local' >&nbsp;</span><span class='local' ID="a0a1e7aea-3253-4f6a-8025-2c7d586f4f5e"  >nvarchar(45)</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;15&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;16&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;17&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;18&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;19&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;20&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a94561c12-6a63-4695-823b-be4a629ed771"  >detalle</span><span class='local' >&nbsp;</span><span class='local' ID="a5f559266-8611-42b9-ad69-4b0f2d735b6f"  >nvarchar(100)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><err category = '1'/><span class='errMessage' ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;21&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;/*<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;22&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;SSMA&nbsp;warning&nbsp;messages:<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;23&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;M2SS0183:&nbsp;The&nbsp;following&nbsp;SQL&nbsp;clause&nbsp;was&nbsp;ignored&nbsp;during&nbsp;conversion:&nbsp;COLLATE&nbsp;utf8_spanish_ci.<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;24&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;*/<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;25&nbsp;</code>
</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;26&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="ac3e816dd-9df9-4d48-b7ec-1563d55d013a"  >etapa</span><span class='local' >&nbsp;</span><span class='local' ID="a0aae676e-6781-4259-a492-ed85bc64b21c"  >nvarchar(1)</span><span class='local' >&nbsp;</span><span class='local' >NULL</span><span class='local' >&nbsp;</span>DEFAULT&nbsp;NULL<span class='local' >,&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;27&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a172518fe-e5b7-465f-b4f0-2f8a016e3454"  >[id_producto-p]</span><span class='local' >&nbsp;</span><span class='local' ID="a93ceaca4-6af8-4966-82c4-17ccf4ae08b4"  >int</span><span class='local' >&nbsp;</span><span class='local' >NOT&nbsp;NULL</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='a9a8f96cc-0b24-4e33-a568-5463daab0b64' onclick='refl("ae5ae097f-ecdc-4edc-8533-763a3eefe452");oc("a9a8f96cc-0b24-4e33-a568-5463daab0b64"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;28&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="aa9730817-b368-4f2b-b4fc-d7aa43f53619"  >PK_producto_id</span><span class='local' >&nbsp;</span>PRIMARY&nbsp;KEY&nbsp;(<span class='local' ID="a9f45c2bf-4e24-4f64-ba84-5e2f579e6baf"  >id</span>)</span><span class='local' >,&nbsp;</span><span class='unselectedSpan' ID='a8d458531-f647-48d1-ae2f-654978cf69b5' onclick='refl("af086430f-25c2-4f28-aff5-d959dd27c849");oc("a8d458531-f647-48d1-ae2f-654978cf69b5"); '  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;29&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;CONSTRAINT&nbsp;<span class='local' ID="a8dabe5a8-953b-4e27-b5e2-f97c1b012ed2"  >producto$fk_producto_producto1</span><span class='local' >&nbsp;</span>FOREIGN&nbsp;KEY&nbsp;(<span class='local' ID="acf6fedd5-6a6d-4fcc-a06e-9cf560849a1b"  >[id_producto-p]</span>)<span class='local' >&nbsp;</span>REFERENCES&nbsp;<span class='local' ID="ab68c7514-b1d0-4315-b3ef-a633711efefc"  >dbo</span>.<span class='local' ID="a9c3561d8-58b7-4ebe-ab56-5e3350fd23ee"  >producto</span><span class='local' >&nbsp;</span>(<span class='local' ID="a452cd65b-5f5c-4fe1-ba50-49cf590c7902"  >id</span>)<span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;30&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;DELETE&nbsp;NO&nbsp;ACTION</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;31&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' >&nbsp;ON&nbsp;UPDATE&nbsp;NO&nbsp;ACTION</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;32&nbsp;</code>
)</div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;33&nbsp;</code>
GO<div class='unselectedDiv1' ID='a779ac357-d221-4302-ac80-f50e313c1f94' onclick='oc("a779ac357-d221-4302-ac80-f50e313c1f94")'  ><div class='unselectedDiv2' ID='a8e05f263-96ce-4206-9ca6-d0330a148fe3' onclick='oc("a8e05f263-96ce-4206-9ca6-d0330a148fe3")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;34&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a51a37e18-cef4-40b5-8883-3d38057c534d"  >dbo</span>.<span class='local' ID="abc134e9f-96d5-4791-b4f2-728d9b87bd82"  >str2enum$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;35&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='adb1fdcc5-205e-4584-8976-90e893e72c75' onclick='oc("adb1fdcc5-205e-4584-8976-90e893e72c75")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;36&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a4cf805d5-22fa-461c-aadb-df1b1ab4f591"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="aa4172d37-390b-4e96-89bb-dbccf0b39bdf"  >nvarchar(<span class='local' ID="a6abbf52a-9d5f-4a84-8ac7-b97ea123256c"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;37&nbsp;</code>
)<div class='unselectedDiv3' ID='a82f653d8-7a26-4907-808e-5be6ab3e3ab1' onclick='oc("a82f653d8-7a26-4907-808e-5be6ab3e3ab1")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;38&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a60485fad-e633-41f6-b695-749264d3cb8d"  >tinyint</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;39&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a950de041-670b-4990-93b0-722d708d22c1' onclick='oc("a950de041-670b-4990-93b0-722d708d22c1")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;40&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a9e797641-57d5-4a3a-9269-4bb2332eda0a' onclick='oc("a9e797641-57d5-4a3a-9269-4bb2332eda0a")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;41&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;42&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a30997741-765f-4f9e-a926-c2a9afc8b895"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;43&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'I'<span class='local' >&nbsp;THEN&nbsp;</span>1<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;44&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'P'<span class='local' >&nbsp;THEN&nbsp;</span>2<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;45&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;'T'<span class='local' >&nbsp;THEN&nbsp;</span>3<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;46&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;0<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;47&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;48&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;49&nbsp;</code>
GO<div class='unselectedDiv1' ID='ac3ed9685-cd9a-43db-b446-3a5fb9c11638' onclick='oc("ac3ed9685-cd9a-43db-b446-3a5fb9c11638")'  ><div class='unselectedDiv2' ID='af24dbdb4-fb2a-474d-a597-f59a8e51c392' onclick='oc("af24dbdb4-fb2a-474d-a597-f59a8e51c392")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;50&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="ae55c7d30-1d1c-409c-b3cd-d22b2b294b7c"  >dbo</span>.<span class='local' ID="a92e9103f-e777-41f5-b6ba-f5f32319e26a"  >enum2str$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;51&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='af943c45d-f6da-401d-a304-f25e15b763cf' onclick='oc("af943c45d-f6da-401d-a304-f25e15b763cf")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;52&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="ab9a16535-122c-4942-b4d6-1eb74a28d27e"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="aee31941a-6964-4366-9555-e35706a34f97"  >tinyint</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;53&nbsp;</code>
)<div class='unselectedDiv3' ID='a39dc09ea-3cdf-4dea-b705-6cb5a23c250a' onclick='oc("a39dc09ea-3cdf-4dea-b705-6cb5a23c250a")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;54&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a21f56426-237f-4611-ab64-85b7b8a0912c"  >nvarchar(<span class='local' ID="a5e131712-7aa1-4d00-a640-971efc8b9577"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;55&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a546900d6-fb8f-4d32-897b-8646ca83e93f' onclick='oc("a546900d6-fb8f-4d32-897b-8646ca83e93f")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;56&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='aff4b46d1-d971-4a5e-bfb9-2ced7fba67cb' onclick='oc("aff4b46d1-d971-4a5e-bfb9-2ced7fba67cb")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;57&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;58&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASE&nbsp;<span class='local' ID="a54c70c96-8c65-43aa-a546-98c30d707327"  >@setval</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;59&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;1<span class='local' >&nbsp;THEN&nbsp;</span>'I'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;60&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;2<span class='local' >&nbsp;THEN&nbsp;</span>'P'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;61&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN&nbsp;3<span class='local' >&nbsp;THEN&nbsp;</span>'T'<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;62&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE&nbsp;''<br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;63&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;64&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;65&nbsp;</code>
GO<div class='unselectedDiv1' ID='a6da934b0-6ce5-4664-8b13-0c3bd40396b2' onclick='oc("a6da934b0-6ce5-4664-8b13-0c3bd40396b2")'  ><div class='unselectedDiv2' ID='a5d4f8120-936f-41f9-be11-184ae77b2323' onclick='oc("a5d4f8120-936f-41f9-be11-184ae77b2323")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;66&nbsp;</code>
CREATE&nbsp;FUNCTION&nbsp;<span class='local' ID="a25352b32-2067-4dbc-acf8-4fa88c2b4216"  >dbo</span>.<span class='local' ID="ad91003e3-8c83-4f76-a8d3-5b4e71321541"  >norm_enum$producto$etapa</span><span class='local' >&nbsp;</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;67&nbsp;</code>
(&nbsp;<span class='unselectedSpan' ID='ad40320b6-5d8e-4d3e-8fc5-1027e1ee5d08' onclick='oc("ad40320b6-5d8e-4d3e-8fc5-1027e1ee5d08")'  ><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;68&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;<span class='local' ID="a3a487732-7bb8-4357-9776-a1b10efc6a29"  >@setval</span><span class='local' >&nbsp;</span><span class='local' ID="a1974e56b-c5da-4b10-9e64-32018a0fe5d9"  >nvarchar(<span class='local' ID="a63628e72-dcea-46c5-b411-a00a3d7cf19a"  >max</span>)</span></span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;69&nbsp;</code>
)<div class='unselectedDiv3' ID='a02bb4789-0776-4c34-b329-8b4bf00e0eee' onclick='oc("a02bb4789-0776-4c34-b329-8b4bf00e0eee")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;70&nbsp;</code>
RETURNS&nbsp;<span class='local' ID="a5378c5ca-b3c5-4632-8950-917aa76a7164"  >nvarchar(<span class='local' ID="ad2760a36-2f46-44f1-b5f4-36a7aa9797a2"  >max</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;71&nbsp;</code>
AS&nbsp;<div class='unselectedDiv3' ID='a88c9c28a-489c-46d1-9dbb-c1c071d3b449' onclick='oc("a88c9c28a-489c-46d1-9dbb-c1c071d3b449")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;72&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;BEGIN<div class='unselectedDiv4' ID='a7db82a33-13dd-47fd-9c1c-4eb696a2ceea' onclick='oc("a7db82a33-13dd-47fd-9c1c-4eb696a2ceea")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;73&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RETURN&nbsp;<span class='local' ID="a1e60a004-286d-4cf1-be39-fd5627de87b9"  >dbo</span>.<span class='local' ID="a909b7ffc-eae0-44d0-ac80-a90a121f4b2a"  >enum2str$producto$etapa(<span class='local' ID="a7b754c34-fa4e-40cf-a3f9-dbcb7c06d3f0"  >dbo</span>.<span class='local' ID="ac447a9d6-a707-4591-847c-8c786c386be3"  >str2enum$producto$etapa(<span class='local' ID="a6f9c5f98-2509-4ff7-a9d0-893982305742"  >@setval</span>)</span>)</span></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;74&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;END</div></div></div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;75&nbsp;</code>
GO<div class='unselectedDiv1' ID='aa3097937-c0e6-4ef0-9ed2-db9f3b025214' onclick='oc("aa3097937-c0e6-4ef0-9ed2-db9f3b025214")'  ><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;76&nbsp;</code>
CREATE&nbsp;<span class='local' >NONCLUSTERED</span>&nbsp;INDEX&nbsp;<span class='local' ID="a26cfb795-08be-4873-b189-afb1770cac1c"  >fk_producto_producto1_idx</span><br><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;77&nbsp;</code>
&nbsp;&nbsp;&nbsp;&nbsp;ON&nbsp;<span class='local' ID="aa1a15271-8cf3-4dbf-954f-a8807d48007a"  >dbo</span>.<span class='local' ID="adb1d2df1-f743-4133-94b7-da0cb0fad8c9"  >producto</span><span class='local' >&nbsp;</span>(<span class='local' ID="a80404b73-6c44-4782-b58e-346ff3596dae"  >[id_producto-p]</span><span class='local' >&nbsp;</span><span class='local' >ASC</span>)</div><code class='line' onclick='toggleBookmark(this) '><img class='bookmark' src='../img/empty.gif' />&nbsp;78&nbsp;</code>
GO<nobr/></body></html>